## 计算机网络部分
### 七层协议
* 物理层												 信息格式：帧/比特流
* 数据链路层	mac地址							 信息格式：帧/比特流
* 网络层	ip、ARP、ICMP						  信息格式：ip数据报
* 传输层	TCP、UDP、 TLS加密				信息格式：分组
* 会话层													信息格式：报文流
* 表现层													信息格式：报文流
* 应用层	http POP3									信息格式：报文流

### 当用户输入网址后发生了什么
* 协议、主机、端口、路径
* 当输入地址后，浏览器会先查到缓存（浏览器/系统/路由/web服务缓存），如果有缓存，那么就会直接在缓存中进行读取，不会调取服务器的数据，如果没有缓存，那么就要去服务器中获取数据，（DNS解析 ）通过域名解析出ip，ip对应的一台服务器，找到服务器后，浏览器要与web服务建立连接，建立连接通过后，浏览器就会向服务器发送请求，服务器需要安装web服务，否则无法建立连接，然后进行TCP三次握手，握手通过后，web服务会给浏览器发送一个页面标签地址内容，浏览器拿到后进行渲染，首先先根据html标签绘制一个dom树，css会生成一个cssdom树，最后生成render树，然后从上到下依次进行执行，如果是外部连接会同时发送并列请求
* 详细版：
>1、浏览器会开启一个线程来处理这个请求，对URL 分析判断如果是http协议就按照Web方式来处理
>2、调用浏览器内核中对应的方法，比如WebView中的loadUrl方法
>3、通过DNS解析获取网址的ip地址，设置UA等信息发出第二个GET请求
>4、进行HTTP协议会话，客户端发送报头（请求报头）
>5、进入到web服务器上的WebServer,如Apache，Tomcat，Nodejs，Nginx等服务器
>6、进入部署好的后端应用，如PHP、java、JavaScript、python等，找到对用的请求处理、
>7、处理结束回馈报头，此处如果浏览器访问过，缓存上有对应资源，会与服务器最后修改时间对比，一致则返回会304

### http与https的区别
* http不安全，默认端口为80，https安全，默认端口为443
* http在osi网络模型的最高层应用层，https有安全机制在传输层完成
* 七层模型：（物数网传会表应）
* http直接发布即可，https需要申请SSL证书

### 什么是http无状态协议，以及怎样解决
* 无状态协议：没有记忆功能，一次http请求结束后就结束了，没有记忆能力，第二次请求取不回上次的数据
* 解决方案：session，cookie，html5新特性本地存储

### http工作原理
1.浏览器将自己支持的一套加密规则发送给网站。
2.网站从中选出一组加密算法与HASH算法，并将自己的身份信息以证书的形式发回给浏览器。证书里面包含了网站地址，加密公钥，以及证书的颁发机构等信息。
3.浏览器获得网站证书之后浏览器要做以下工作：
a) 验证证书的合法性（颁发证书的机构是否合法，证书中包含的网站地址是否与正在访问的地址一致等），如果证书受信任，则浏览器栏里面会显示一个小锁头，否则会给出证书不受信的提示。
b) 如果证书受信任，或者是用户接受了不受信的证书，浏览器会生成一串随机数的密码，并用证书中提供的公钥加密。
c) 使用约定好的HASH算法计算握手消息，并使用生成的随机数对消息进行加密，最后将之前生成的所有信息发送给网站。
4.网站接收浏览器发来的数据之后要做以下的操作：
a) 使用自己的私钥将信息解密取出密码，使用密码解密浏览器发来的握手消息，并验证HASH是否与浏览器发来的一致。
b) 使用密码加密一段握手消息，发送给浏览器。
5.浏览器解密并计算握手消息的HASH，如果与服务端发来的HASH一致，此时握手过程结束，之后所有的通信数据将由之前浏览器生成的随机密码并利用对称加密算法进行加密。

![](http://ww3.sinaimg.cn/large/7cc829d3gw1f7xujtsfmhj20bu0cuq3k.jpg)

### http有哪些状态码
* 100：Continue继续。客户端应继续其请求，
* 101：切换协议
* 200：正常，请求成功
* 201：已创建。成功请求并创建了新的资源
* 202：已接受。已经接受请求，但未处理完成
* 203：非授权信息。请求成功。但返回的meta信息不在原始的服务器，而是一个副本
* 204： 无内容。服务器成功处理，但未返回内容。在未更新网页的情况下，可确保浏览器继续显示当前文档
* 205：重置内容。服务器处理成功，用户终端（例如：浏览器）应重置文档视图。可通过此返回码清除浏览器的表单域
* 206：部分内容。服务器成功处理了部分GET请求
* 301：永久重定向
* 302：临时重定向
* 303：查看其它地址。与301类似。使用GET和POST请求查看
* 304：服务端资源与客服端资源上次请求一致，不需要重新传输，客户端使用本地缓存的即可
* 305：使用代理，所请求的资源必须通过代理访问
* 306：已经被废弃的HTTP状态码
* 307：临时重定向。与302类似。使用GET请求重定向
* 400：客户端请求的语法错误，服务器无法理解
* 401：请求要求用户的身份认证
* 402： 保留，将来使用
* 403：禁止被访问
* 404：找不见资源
* 405：客户端请求中的方法被禁止
* 406：服务器无法根据客户端请求的内容特性完成请求
* 407：请求要求代理的身份认证，与401类似，但请求者应当使用代理进行授权
* 500：服务器内部错误
* 502：网关错误，已经与后端建立连接，但超时
* 503：服务器超载或无法处理请求
* 504：与后端未建立连接，超时

### 常用的http的header字段
* Accept：设置接收的内容类型
* Accept-Charset：设置接收的字符编码
* Expires：设置响应体过期事件
* Content-Type：设置响应体的MIME类型
* Date：设置响应体的过期时间
* Set-Cookie：设置HTTP Cookie
* Status：设置HTTP响应状态

### 什么是TCP协议
* 特点：面向连接（收发数据前，必须建立可靠的连接）
* 建立连接基础：三次握手
* 应用场景：数据必须准确无误的手法，HTTP请求，FTP文件传输，邮件收发
* 优点：稳定，重传机制，拥塞控制机制，断开连接
* 缺点：速度慢，效率低，占用资源，容易被攻击（三次握手 -> DOS, DDOS攻击）
* TCP/IP协议组：提供点对点的连接机制，制定了数据封装、定指、传输、路由、数据接收的标准

### 什么是UDP协议
* 特点：面向无连接（不可靠的协议，无状态传输机制）
* 无连接信息发送机制
* 应用场景：无需确保通讯质量且要求速度快、无需确保信息完整
* 消息收发、语音通话。、直播（qq）
* 优点：安全、快速、漏洞少（UDPflood攻击）
* 缺点：不可靠、不稳定、容易丢包
* 只要目的源地址、端口号、地址、端口号确定、则可以直接发送信息报文，但不能保证一定能收到或收到完整的数据

### TCP与UDP的区别
* 基于连接与无连接；
* 对系统资源的要求（TCP较多，UDP少）
* UDP程序结构较简单
* 流模式与数据报模式
* TCP保证数据正确性，UDP可能丢包
* TCP保证数据顺序，UDP不保证

### 三次握手（建立连接）
* 第一步：客户端向服务端发送syn（同步序列编号）包（序号是j），进入到SYN_SEND状态（等待服务器确认状态）
* 第二步：服务端接收到客户端的syn j后，向客户端发送syn（序号是k）+ack（序号是j+1）（确认字符）包，服务器进入SYN_RECV（请求接收并等待客户端确认状态）
* 第三步：客户端向服务端发送ack包（序号为k+1），服务端收到ack标识位后，完成三次握手，成功建立连接

### 四次挥手（断开连接）
* 第一步：客户端向服务端发送FIN需要断开连接
* 第二步：服务端基于可靠性向客户端发送FIN+ACK
* 第三步：服务端向客户端发送FIN需要断开连接
* 第四步：客户端向服务端发送ACK，然后资源销毁

### 当一个服务端对应多个客户端为什么不会发错数据
* 是因为socket的四元组即ip+port ip+port，四个只要有一个不同就能够进行区分

### http1.0与http1.1与http2.0区别
* 1.0：短连接（100张图，100次tcp握手和挥手）
* 1.1：长连接（100张图，1次tcp握手挥手）
* 2.0：长连接+io多路复用模型

### HTTP与HTTPS区别
* https相对于http增加了一层安全层（SSL/TLS）安全嵌套层，传输层安全，为网络通信提供安全及数据完整性的一种安全协议，对网络连接进行加密
* http是不安全的（监听和中间人攻击等手段，获取网站账户信息和敏感信息）https可防止被攻击
* http协议的传输内容都是明文的，直接在tcp连接上运行，客户端和服务端都无法验证对方的身份
* https协议的传输内容都是被SSL/TLS加密的，且都运行在SSL/TLS上，SSL/TLS运行在tcp连接上，所以数据传输是安全的

### rpc和http的区别
* 性能：rpc通过thrift二进制传输，http通过json序列化更消耗性能
* 传输协议：rcp基于tcp也可以基于http，http只能是http协议
* 负载均衡：rpc自带负载均衡，http需要自己配置（nginx）
* 传输效率：rpc可以自定义tcp协议，报文相对较小，http有很多无用的东西（很多头部信息）
* 通知：rpc自行通知，http事先通知，自行修改nginx配置或者其他负载均衡的配置

### IP
* ipv4：分配给用户上网实用的互联网协议，十进制
* ipv6：地址空间更大（8组，128位）十六进制，路由表更小，组播支持以及对流支持增强，对自动配置的支持，更高的安全性

### 字节流和字符流的区别
* 编码方式不同决定了处理文件类型不同，字节流（ASCLL）处理二进制文件，字符流（Unicode）处理文本文件

### https加密原理
* 采用加密、数字证书、数字签名的技术来实现

#### 加密算法
* 对称加密：客户端与服务端公用一个密钥来对消息加密，客户端与服务端约定好一个加密的密钥，客户端发消息前用该密钥对消息加密，发送给服务端，然后服务端用该密钥解密拿到信息
>优点：对称加密解决了http中消息保密性问题
>缺点：因为同用一个密钥，使得密钥很容易泄露，难以保证消息来源的可靠性，完整性，准确性

* 非对称加密：客户端与服务端均有一个公钥和私钥，使用公钥加密，需要使用对用的私钥进行解密，相反也是，当客户端发送消息时，先使用服务端公钥加密，服务端接收后使用自己的私钥进行解密
>优点：解决了http中消息保密的问题，使私钥泄露的风险降低，因为公钥加密的消息只有对应的私钥才能解开，所以大大程度上保证了消息的来源性以及消息的准确性，完整性
>缺点：非对称加密需要使用到接收方的公钥对消息进行加密，但是公钥不是保密的，任何人都可以获取，中间人也可以获取。那么中间人就可以做两件事，第一件：可以在客户端与服务端交换公钥时，将客户端的公钥替换为自己的，这样服务端拿到的公钥就不是客户端的，而是中间人的，服务端也无法判断公钥来源的正确性，第二件：中间人可以不替换公钥，但是可以截取客户端发送的信息，修改信息，然后用服务端的公钥加密发往服务器上，从而服务端接收到错的消息。非对称加密的性能要比对称加密的性能慢几倍至上百倍，比较消耗资源，正因如此，https将两种加密结合起来

### http的缓存有哪几种
* 强制缓存：客户端与服务器协商，在一定时间内的请求只有一次调取接口，其他请求则读取缓存
* 协商缓存（弱缓存）：通过获取文件的状态来拿到文件的最后修改时间，也就是ctime我们把这个时间通过响应头Last-Modified来告诉客户端，客户端下次请求的时候会通过请求头if-Modified-Since把这个值带给服务端，只要判断两个值是否相等，相等的304，反之调取接口
* 通过文件内容缓存：将文件读取并进行hash加密做对比，十分消耗性能

### 进程与线程
* 一个程序至少有一个进程，一个进程至少有一个线程
* 内存对资源分配的最小单位是进程，而进程执行的最小单位是线程
* 线程是不能够脱离进程而独立运行的
* 当进程运行时只产生一个线程时，被称为单线程，否则被称为多线程
* 单线程与多线程都是指的在同一进程当中的单或多
* 线程越多意味着你在一个进程中同时执行的任务也就越多

### 二叉树、满二叉树与完全二叉树
* 二叉树：除了叶子结点外，每个结点只有两个分支，左子树和右子树，每个结点最大度数为2
* 满二叉树：除了叶结点外的每一个结点都有左右子结点且叶结点都处于二叉树的最底层
* 完全二叉树：只有最下面的两层结点度小于2，并且最下面一层的结点都集中在该层最左边的若干位置的二叉树

### 链表与数组的区别
* 数组必须事先固定长度，不能适应数据动态的增减，当数据增加时可能超出原先定义的元素个数，当数据减少时，造成内存浪费
* 链表动态的进行存储分配，可以适应数据动态的增减情况，且可以方便的插入，删除数据项

